<div class="space-y-4">
    <div class="p-4 bg-gray-50 rounded-2xl border border-gray-100">
        <div class="text-[10px] text-gray-400 font-black uppercase tracking-widest mb-3">Informations Générales</div>
        <div class="space-y-3">
            <div class="flex justify-between items-center">
                <span class="text-xs text-gray-500 font-medium tracking-tight">Référence</span>
                <span class="text-xs font-black text-gray-900">#W-{{ "%04d"|format(withdrawal.id) }}</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-xs text-gray-500 font-medium tracking-tight">Date</span>
                <span class="text-xs font-black text-gray-900">{{ withdrawal.requestedAt|date('d F Y') }}</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-xs text-gray-500 font-medium tracking-tight">Heure</span>
                <span class="text-xs font-black text-gray-900">{{ withdrawal.requestedAt|date('H:i') }}</span>
            </div>
        </div>
    </div>

    <div class="p-4 bg-white rounded-2xl border border-gray-100 shadow-sm">
        <div class="text-[10px] text-gray-400 font-black uppercase tracking-widest mb-3">Détails Financiers</div>
        <div class="space-y-3">
            <div class="flex justify-between items-center">
                <span class="text-xs text-gray-500 font-medium tracking-tight">Montant Demandé</span>
                <span class="text-sm font-black text-green-700">{{ withdrawal.amount|format_currency('XOF', locale='fr') }}</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-xs text-gray-500 font-medium tracking-tight">Méthode</span>
                <div class="flex items-center gap-1.5">
                    <i class="fas {{ withdrawal.method == 'mobile_money' ? 'fa-mobile-screen-button' : 'fa-building-columns' }} text-gray-400 text-[10px]"></i>
                    <span class="text-xs font-bold text-gray-900">{{ withdrawal.method == 'mobile_money' ? 'Mobile Money' : "En Agence" }}</span>
                </div>
            </div>
            {% if withdrawal.tontine %}
            <div class="pt-3 border-t border-gray-50">
                <div class="flex justify-between items-center">
                    <span class="text-xs text-gray-500 font-medium tracking-tight">Source (Tontine)</span>
                    <span class="text-[10px] font-black text-gray-900 tracking-tight">{{ withdrawal.tontine.getName() }}</span>
                </div>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="p-4 rounded-2xl border border-gray-100 {% if withdrawal.statut == 'approved' %}bg-emerald-50/50 border-emerald-100{% elseif withdrawal.statut == 'rejected' %}bg-rose-50/50 border-rose-100{% else %}bg-amber-50/50 border-amber-100{% endif %}">
        <div class="text-[10px] font-black uppercase tracking-widest mb-2 {% if withdrawal.statut == 'approved' %}text-emerald-600{% elseif withdrawal.statut == 'rejected' %}text-rose-600{% else %}text-amber-600{% endif %}">
            Statut de la demande
        </div>
        
        <div class="space-y-3">
            <p class="text-xs font-semibold text-gray-900 flex items-center gap-2">
                <i class="fas {% if withdrawal.statut == 'approved' %}fa-check-circle text-emerald-500{% elseif withdrawal.statut == 'rejected' %}fa-times-circle text-rose-500{% else %}fa-clock text-amber-500{% endif %}"></i>
                {% if withdrawal.statut == 'pending' %}
                    En attente de traitement
                {% elseif withdrawal.statut == 'approved' %}
                    Demande approuvée
                {% elseif withdrawal.statut == 'rejected' %}
                    Demande rejetée
                {% else %}
                    {{ withdrawal.statut|capitalize }}
                {% endif %}
            </p>

            {% if withdrawal.statut == 'rejected' and withdrawal.rejectionReason %}
                <div class="p-3 bg-rose-500/10 rounded-xl border border-rose-200/50">
                    <div class="text-[8px] font-black text-rose-600 uppercase tracking-widest mb-1">Motif du rejet</div>
                    <p class="text-xs font-bold text-rose-900 leading-relaxed">{{ withdrawal.rejectionReason }}</p>
                </div>
            {% endif %}

            <div class="pt-2 border-t border-black/5">
                <div class="text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1">Description initiale</div>
                <p class="text-[10px] font-medium text-gray-600 italic">"{{ withdrawal.reason }}"</p>
            </div>
        </div>
    </div>
</div>
